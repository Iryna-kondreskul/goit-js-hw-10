{"mappings":"AAAA,MAKMA,EAAU,CACZC,QAAS,CACP,YAJU,0ECDhB,MAAMC,EAAWC,SAASC,cAAc,iBAClCC,EAAWF,SAASC,cAAc,WAClCE,EAAUH,SAASC,cAAc,UACjCG,EAAYJ,SAASC,cAAc,aAgCzC,SAASI,EAAcC,GACnB,MAAMC,YAACA,EAAWC,KAAEA,EAAIC,YAAEA,GAAeH,EAAI,GAAGI,OAAO,GACjDC,EAAS,aAAaL,EAAI,GAAGM,aAAaJ,kDACrBA,YAAeD,+BAAyCE,cACnFL,EAAUS,UAAYF,C,CAjC1BZ,EAASe,iBAAiB,UAoB1B,SAAsBC,GAClBX,EAAUS,UAAY,GACtBX,EAASc,UAAUC,OAAO,cDZIC,ECadH,EAAII,OAAOC,MDZpBC,MACL,yDAAoCH,IACpCrB,GACAyB,MAAKC,GAAYA,EAASC,UCU3BF,KAAKjB,GACLoB,OAAM,IAAMC,MAAMV,UAAUC,OAAO,eACnCU,SAAQ,IAAMzB,EAASc,UAAUY,IAAI,eDhBjC,IAAyBV,C,ICRlCnB,EAASiB,UAAUY,IAAI,aACvBzB,EAAQa,UAAUY,IAAI,aDCXP,MAAM,uCAA6BxB,GAASyB,MAAKC,GACtDA,EAASC,SCCZF,MAAKO,KAOR,SAAuBC,GACrB,MAAMnB,EAASmB,EACZC,KAAI,EAACC,GAAEA,EAAExB,KAAEA,KAAW,kBAAkBwB,MAAOxB,eAC/CyB,KAAK,IACRlC,EAASc,UAAYF,C,CAVnBuB,CAAcL,GACd9B,EAASiB,UAAUC,OAAO,YAAY,IAEvCQ,OAAM,IAAMtB,EAAQa,UAAUC,OAAO,eACrCU,SAAQ,IAAMzB,EAASc,UAAUY,IAAI","sources":["src/cat-api.js","src/index.js"],"sourcesContent":["const BASE_URL = ' https://api.thecatapi.com/v1/';\nconst BREEDS_ENDP = 'breeds';\nconst ENDPOINT = 'images/search';\nconst API_KEY = 'live_ks7DrDX1WH6cUTMCIjdT8mriF0Q2ncG8n5jq7EIV0F64PNvm72UMt4pKfQxR7V80';\n\nconst options = {\n    headers: {\n      'x-api-key': API_KEY,\n    },\n  };\n\nexport function fetchBreeds() {\n    return fetch(`${BASE_URL}${BREEDS_ENDP}`, options).then(response =>\n      response.json()\n    );\n  }\n  \n\n  export function fetchCatByBreed(breedId) {\n    return fetch(\n      `${BASE_URL}${ENDPOINT}?breed_ids=${breedId}`,\n      options\n    ).then(response => response.json());\n  }\n\n\n","import { fetchBreeds, fetchCatByBreed } from './cat-api';\n\nconst selectEl = document.querySelector('.breed-select');\nconst loaderEl = document.querySelector('.loader');\nconst errorEl = document.querySelector('.error');\nconst catInfoEl = document.querySelector('.cat-info');\n\n\nselectEl.addEventListener('change', createMarkup);\n\nselectEl.classList.add('is-hidden');\nerrorEl.classList.add('is-hidden');\n\nfetchBreeds()\n  .then(data => {\n    createOptions(data);\n    selectEl.classList.remove('is-hidden');\n  })\n  .catch(() => errorEl.classList.remove('is-hidden'))\n  .finally(() => loaderEl.classList.add('is-hidden'));\n\nfunction createOptions(cats) {\n  const markup = cats\n    .map(({ id, name }) => `<option value=\"${id}\">${name}</option>`)\n    .join('');\n  selectEl.innerHTML = markup;\n}\n\nfunction createMarkup(evt){\n    catInfoEl.innerHTML = '';\n    loaderEl.classList.remove('is-hidden');\n    fetchCatByBreed(evt.target.value)\n    .then(createCardCat)\n    .catch(() => error.classList.remove('is-hidden'))\n    .finally(() => loaderEl.classList.add('ia-hidden'));\n}\n\nfunction createCardCat(cat){\n    const {description, name, temperament} = cat[0].breeds[0];\n    const markup = `<img src=\"${cat[0].url}\" alt=\"${name}\" width=\"300\"/>\n    <div class=\"wrapper\"><h1>${name}</h1><p>${description}</p><p><b>Temperament: </b>${temperament}</p></div>`;\n    catInfoEl.innerHTML = markup;\n}"],"names":["$6b5f202d1456c0af$var$options","headers","$1f0dc3b9307be026$var$selectEl","document","querySelector","$1f0dc3b9307be026$var$loaderEl","$1f0dc3b9307be026$var$errorEl","$1f0dc3b9307be026$var$catInfoEl","$1f0dc3b9307be026$var$createCardCat","cat","description","name","temperament","breeds","markup","url","innerHTML","addEventListener","evt","classList","remove","breedId","target","value","fetch","then","response","json","catch","error","finally","add","data","cats","map","id","join","$1f0dc3b9307be026$var$createOptions"],"version":3,"file":"index.e324c501.js.map"}